

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>12.1.12. Parallelization control &mdash; MFiX 25.2.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=bc05c87d" />
      <link rel="stylesheet" type="text/css" href="../_static/mfix.css?v=31071079" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=b06fed7c"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="12.1.13. Particle-in-cell model (PIC)" href="particle_in_cell.html" />
    <link rel="prev" title="12.1.11. Output control" href="output_control.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >


          
          
          <a href="../index.html">
            
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

<br/>
<div class="version-display">
  <span class="version-text">Version: 25.2</span>
</div>



        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">1. About MFiX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">2. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">3. Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_setup/index.html">4. Model guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solver/build.html">5. Building the solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solver/run.html">6. Running the solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/index.html">7. Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_interface_reference.html">8. GUI reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../queue.html">9. Running interactive solver job in queue</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_defined_functions.html">10. User-Defined Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mfix_on_joule.html">11. Running MFiX on Joule</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">12. Keyword reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="keywords.html">12.1. Keywords</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="batch_queue_environment.html">12.1.1. Batch queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="boundary_condition.html">12.1.2. Boundary conditions (BC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cartesian_grid.html">12.1.3. Cartesian grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="chemical_reactions.html">12.1.4. Chemical reactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="discrete_element.html">12.1.5. Discrete element model (DEM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="gas_phase.html">12.1.6. Gas phase</a></li>
<li class="toctree-l3"><a class="reference internal" href="geometry_and_discretization.html">12.1.7. Geometry and discretization</a></li>
<li class="toctree-l3"><a class="reference internal" href="initial_condition.html">12.1.8. Initial conditions (IC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="internal_surface.html">12.1.9. Internal surfaces (IS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical_parameters.html">12.1.10. Numerical parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="output_control.html">12.1.11. Output control</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">12.1.12. Parallelization control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dbgprn-layout">12.1.12.1. <span class="kwname">DBGPRN_LAYOUT</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#debug-resid">12.1.12.2. <span class="kwname">DEBUG_RESID</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dlb-nodesi-layout">12.1.12.3. <span class="kwname">DLB_NODESI(LAYOUT)</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dlb-nodesj-layout">12.1.12.4. <span class="kwname">DLB_NODESJ(LAYOUT)</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dlb-nodesk-layout">12.1.12.5. <span class="kwname">DLB_NODESK(LAYOUT)</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-dmp-log">12.1.12.6. <span class="kwname">ENABLE_DMP_LOG</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nodesi">12.1.12.7. <span class="kwname">NODESI</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nodesj">12.1.12.8. <span class="kwname">NODESJ</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#nodesk">12.1.12.9. <span class="kwname">NODESK</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#solver-statistics">12.1.12.10. <span class="kwname">SOLVER_STATISTICS</span></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="particle_in_cell.html">12.1.13. Particle-in-cell model (PIC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="physical_parameters.html">12.1.14. Physical parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="point_source.html">12.1.15. Point sources (PS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="run_control.html">12.1.16. Run control</a></li>
<li class="toctree-l3"><a class="reference internal" href="solids_phase.html">12.1.17. Solids phase</a></li>
<li class="toctree-l3"><a class="reference internal" href="thermochemical_properties.html">12.1.18. Thermochemical properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="two_fluid_model.html">12.1.19. Two-fluid model (TFM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="udf_control.html">12.1.20. UDF control</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">13. Frequently asked questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MFiX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">12. </span>Keyword reference</a></li>
          <li class="breadcrumb-item"><a href="keywords.html"><span class="section-number">12.1. </span>Keywords</a></li>
      <li class="breadcrumb-item active"><span class="section-number">12.1.12. </span>Parallelization control</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/parallelization_control.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parallelization-control">
<h1><span class="section-number">12.1.12. </span>Parallelization control<a class="headerlink" href="#parallelization-control" title="Link to this heading">¶</a></h1>
<p>Parallel performance depends on several things, and one has to evaluate
different options before choosing the right strategy for any problem.
For example if the J-direction is the strongest coupled direction, the
preconditioning for the linear solver will be poor if there is decomposition in
that direction. However, since decomposing in all the directions reduces the
processor grid surface area, the communication cost will be less for the same
computational grid. The preconditioners are chosen with the keyword <code class="docutils literal notranslate"><span class="pre">LEQ_PC</span></code>.
In addition to LINE relaxation, one can choose the “DIAG” or “NONE”
preconditioner that reduces inter-processor communications but this choice will increase
the number of linear equation solver iterations. The DIAG and NONE choices for
preconditioners may be appropriate for all equations except the continuity (or
pressure and volume fraction correction) equations. The parallel performance is
greatly dependent on the choices stated here, and some trial and error may be
required to determine the right combination of decomposition direction with the
choice of preconditioners to get the best performance in production runs.</p>
<p><code class="docutils literal notranslate"><span class="pre">NODESI</span> <span class="pre">*</span> <span class="pre">NODESJ</span> <span class="pre">*</span> <span class="pre">NODESK</span></code> must be the same as the number of processors
specified using <code class="docutils literal notranslate"><span class="pre">mpirun</span></code> (or equivalent command). Otherwise the code will
return with an error.</p>
<section id="dbgprn-layout">
<span id="id1"></span><h2><span class="section-number">12.1.12.1. </span><span class="kwname">DBGPRN_LAYOUT</span><a class="headerlink" href="#dbgprn-layout" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">LOGICAL</span></p>
<p>Print the index layout for debugging.</p>
</section>
<section id="debug-resid">
<span id="id2"></span><h2><span class="section-number">12.1.12.2. </span><span class="kwname">DEBUG_RESID</span><a class="headerlink" href="#debug-resid" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">LOGICAL</span></p>
<p>Group residuals to reduce global collectives.</p>
</section>
<section id="dlb-nodesi-layout">
<span id="dlb-nodesi"></span><h2><span class="section-number">12.1.12.3. </span><span class="kwname">DLB_NODESI(LAYOUT)</span><a class="headerlink" href="#dlb-nodesi-layout" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">INTEGER</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(1 \le Layout \le 100\)</span></p></li>
</ul>
<p>List of grid blocks in x-direction used in Dynamic Load balance (DLB).
The DLB will test each partition layout defined by DLB_NODESI, DLB_NODESJ,
DLB_NODESK, and choose the one providing the best load balance.
For each layout, the product DLB_NODESIxDLB_NODESJxDLB_NODESK must match
the number of cores used in the DMP run.</p>
<p>Example: To test two 80-cores layouts with 4x5x4 and 2x20x2 partitions,
define DLB_NODESI(1)=4, DLB_NODESJ(1)=5, DLB_NODESK(1)=4, and
DLB_NODESI(2)=2, DLB_NODESJ(2)=20, DLB_NODESK(2)=2.</p>
</section>
<section id="dlb-nodesj-layout">
<span id="dlb-nodesj"></span><h2><span class="section-number">12.1.12.4. </span><span class="kwname">DLB_NODESJ(LAYOUT)</span><a class="headerlink" href="#dlb-nodesj-layout" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">INTEGER</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(1 \le Layout \le 100\)</span></p></li>
</ul>
<p>List of grid blocks in y-direction used in Dynamic Load balance (DLB).
The DLB will test each partition layout defined by DLB_NODESI, DLB_NODESJ,
DLB_NODESK, and choose the one providing the best load balance.
For each layout, the product DLB_NODESIxDLB_NODESJxDLB_NODESK must match
the number of cores used in the DMP run.</p>
<p>Example: To test two 80-cores layouts with 4x5x4 and 2x20x2 partitions,
define DLB_NODESI(1)=4, DLB_NODESJ(1)=5, DLB_NODESK(1)=4, and
DLB_NODESI(2)=2, DLB_NODESJ(2)=20, DLB_NODESK(2)=2.</p>
</section>
<section id="dlb-nodesk-layout">
<span id="dlb-nodesk"></span><h2><span class="section-number">12.1.12.5. </span><span class="kwname">DLB_NODESK(LAYOUT)</span><a class="headerlink" href="#dlb-nodesk-layout" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">INTEGER</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(1 \le Layout \le 100\)</span></p></li>
</ul>
<p>List of grid blocks in z-direction used in Dynamic Load balance (DLB).
The DLB will test each partition layout defined by DLB_NODESI, DLB_NODESJ,
DLB_NODESK, and choose the one providing the best load balance.
For each layout, the product DLB_NODESIxDLB_NODESJxDLB_NODESK must match
the number of cores used in the DMP run.</p>
<p>Example: To test two 80-cores layouts with 4x5x4 and 2x20x2 partitions,
define DLB_NODESI(1)=4, DLB_NODESJ(1)=5, DLB_NODESK(1)=4, and
DLB_NODESI(2)=2, DLB_NODESJ(2)=20, DLB_NODESK(2)=2.</p>
</section>
<section id="enable-dmp-log">
<span id="id3"></span><h2><span class="section-number">12.1.12.6. </span><span class="kwname">ENABLE_DMP_LOG</span><a class="headerlink" href="#enable-dmp-log" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">LOGICAL</span></p>
<p>All ranks write error messages.</p>
</section>
<section id="nodesi">
<span id="id4"></span><h2><span class="section-number">12.1.12.7. </span><span class="kwname">NODESI</span><a class="headerlink" href="#nodesi" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">INTEGER</span></p>
<p>Number of grid blocks in x-direction.</p>
</section>
<section id="nodesj">
<span id="id5"></span><h2><span class="section-number">12.1.12.8. </span><span class="kwname">NODESJ</span><a class="headerlink" href="#nodesj" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">INTEGER</span></p>
<p>Number of grid blocks in y-direction.</p>
</section>
<section id="nodesk">
<span id="id6"></span><h2><span class="section-number">12.1.12.9. </span><span class="kwname">NODESK</span><a class="headerlink" href="#nodesk" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">INTEGER</span></p>
<p>Number of grid blocks in z-direction.</p>
</section>
<section id="solver-statistics">
<span id="id7"></span><h2><span class="section-number">12.1.12.10. </span><span class="kwname">SOLVER_STATISTICS</span><a class="headerlink" href="#solver-statistics" title="Link to this heading">¶</a></h2>
<p>Data Type: <span class="kwtype">LOGICAL</span></p>
<p>Print out additional statistics for parallel runs</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="output_control.html" class="btn btn-neutral float-left" title="12.1.11. Output control" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="particle_in_cell.html" class="btn btn-neutral float-right" title="12.1.13. Particle-in-cell model (PIC)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NETL Multiphase Flow Science Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>